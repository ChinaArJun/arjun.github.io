(window.webpackJsonp=window.webpackJsonp||[]).push([[438],{877:function(t,a,s){"use strict";s.r(a);var e=s(44),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("map 不是线程安全的。")]),t._v(" "),s("p",[t._v("在查找、赋值、遍历、删除的过程中都会检测写标志，一旦发现写标志置位（等于1），则直接 panic。赋值和删除函数在检测完写标志是复位之后，先将写标志位置位，才会进行之后的操作。")]),t._v(" "),s("p",[t._v("检测写标志：")]),t._v(" "),s("div",{staticClass:"language-golang extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('if h.flags&hashWriting == 0 {\n\t\tthrow("concurrent map writes")\n\t}\n')])])]),s("p",[t._v("设置写标志：")]),t._v(" "),s("div",{staticClass:"language-golang extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("h.flags |= hashWriting\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);